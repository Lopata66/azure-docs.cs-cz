---
title: Průvodce přizpůsobením úloh analýzy bezpečnostního kódu Microsoft Azure
description: Tento článek popisuje seznam možností konfigurace YAML pro přizpůsobení všech úkolů v rozšíření Microsoft Security Code Analysis
author: vharindra
manager: sukhans
ms.author: terrylan
ms.date: 11/29/2019
ms.topic: article
ms.service: security
services: azure
ms.assetid: 521180dc-2cc9-43f1-ae87-2701de7ca6b8
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.openlocfilehash: 82802ceae8f9fdd24d1f5642d80d90ebfd8b92a3
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/27/2020
ms.locfileid: "75460668"
---
# <a name="yaml-configuration-options-to-customize-the-build-tasks"></a>Možnosti konfigurace YAML pro přizpůsobení úloh sestavení

Tento článek uvádí všechny možnosti konfigurace YAML, které jsou k dispozici v každé z úloh sestavení. Článek začíná úkoly pro nástroje pro analýzu kódu zabezpečení. Končí úkoly po zpracování.

## <a name="anti-malware-scanner-task"></a>Úloha antimalwarového skeneru

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Picklist | Vždy | True | Basic | Základní, vlastní | 
| ScanType | Picklist | InputType = Základní | True | CustomScan | CustomScan, FullSystemScan, QuickScan, YourConfiguredScan | Typ kontroly, který se má použít pro kontrolu antimalwaru.
| FileDirPath | Filepath | ScanType = CustomScan | True | $(Build.StagingDirectory) |  | Označuje soubor nebo adresář, který má být prohledán.
| ZakázatRemediation | Boolean | ScanType = CustomScan | False | true |  | Pokud je zaškrtnuto: 1) Vyloučení souborů jsou ignorována. 2) Archivní soubory jsou kontrolovány. 3) Akce nejsou použity po zjištění. 4) Položky protokolu událostí nejsou zapsány po detekci. 5) Detekce z vlastního skenování nejsou zobrazeny v uživatelském rozhraní. 6) Výstup konzoly zobrazí seznam detekcí z vlastního skenování.
| BootSectorScan | Boolean | ScanType = CustomScan | False | false (nepravda) |  | Pokud je zaškrtnuto, umožňuje skenování spouštěcího sektoru.
| Argumenty | řetězec | InputType = Vlastní | True | -Scan -ScanType 3 -DisableRemediation -File $(Build.StagingDirectory) |  | Argumenty příkazového řádku, kde argument pro -File je absolutní cesta nebo relativní cesta k $(Build.StagingDirectory) předdefinované na agenta sestavení. Poznámka: Pokud nezadáte argument pro -File jako poslední argument, je výchozí $(Build.StagingDirectory). Můžete také zadat vlastní argumenty povolené nástrojem MpCmdRun.exe.<br/><br/>Pro více informací o argumentech příkazového řádku pro tento nástroj zadejte <strong>-h</strong> nebo <strong>-?</strong> v poli Argumenty a spusťte úlohu sestavení.
| Povolit služby | Boolean | Vždy | True | false (nepravda) |  | Pokud je zaškrtnuto, pokusí se povolit požadované služby pro službu Windows Update v případě, že jsou zakázány.<br/>**Poznámka:** Ujistěte se, že zásady skupiny nezakáže služby a účet, který toto sestavení je spuštěnpod má oprávnění správce.
| Chyba_přihlášení podpory | Boolean | Vždy | True | false (nepravda) |  | Pokud je zaškrtnuto, bude shromažďovat soubory podpory pro diagnostiku, když došlo k chybě. To může trvat několik minut.<br/>**Poznámka:** Ujistěte se, že účet, který toto sestavení běží pod má oprávnění správce.
| TreatSignatureUpdateFailureAs | Picklist | Vždy | True | Upozornění | Chyba, Standardní, Upozornění | Úroveň protokolu použitá v případě, že podpis nelze aktualizovat za běhu. Pokud **je**nastavena chyba , selhání aktualizace podpisu se nezdaří úlohu sestavení. Všimněte si, že je běžné, že aktualizace podpisu nezdaří na hostované agenty sestavení, i když podpis může být relativně aktuální (méně než 3 hodiny staré).
| PodpisČerstvost | Picklist | Vždy | True | Aktuální | Jeden den, tři dny, dva dny, aktuální | Maximální povolený věk pro podpis AntiMalware. Pokud podpis nelze aktualizovat a je starší než tato hodnota, úloha sestavení se bude chovat podle vybrané hodnoty v poli **Ověřit stáří podpisů.** Poznámka: Pokud zvolíte **aktuální ,** podpisy mohou být až 3 hodiny staré.
| TreatStaleSignatureAs | Picklist | Vždy | True | Chyba | Chyba, Standardní, Upozornění | Úroveň protokolu použitá v případě, že je stáří podpisu starší než vybraný **věk podpisu antimalwaru**. Zastaralý podpis může být považován za **upozornění** nebo **informační** pokračovat s antimalware skenování, ale to není doporučeno.

## <a name="binskim-task"></a>Úloha BinSkim

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| InputType | Picklist | Vždy | True | Basic | Základní, příkazový řádek | 
| Argumenty | řetězec | InputType = příkazový řádek | True |  |  | Standardní Binskim argumenty příkazového řádku spustit. Výstupní cesta bude odebrána a nahrazena.<br>Další podrobnosti o argumentech příkazového řádku pro tento nástroj zadejte **nápovědu** do pole Argumenty a spusťte úlohu sestavení.
| Funkce | Picklist | InputType = Základní | True | Analyzovat | analyzovat, výpis, exportConfig, exportRules | 
| Analyzovatcíl | Filepath | InputType = Základní && funkce = analyzovat | True | $(Build.ArtifactStagingDirectory)\*.dll;<br>$(Build.ArtifactStagingDirectory)\*.exe |  | Jeden nebo více specifikátorů souboru, adresáře nebo vzoru filtru, který se překládá na jednu nebo více binárních souborů k analýze. (';' oddělený seznam)
| AnalyzeSymPath | řetězec | InputType = Základní && funkce = analyzovat | False |  |  | Cesta k souboru symbolů pro cíl.
| AnalyzovatKonfigPath | řetězec | InputType = Základní && funkce = analyzovat | False | default |  | Cesta k souboru zásad, který bude použit ke konfiguraci analýzy. Předat hodnotu 'výchozí' použít vestavěné nastavení.
| AnalyzovatPluginPath | řetězec | InputType = Základní && funkce = analyzovat | False |  |  | Cesta k modulu plug-in, který bude vyvolán proti všem cílům v sadě analýzy.
| AnalyzovatProkletí | Boolean | InputType = Základní && funkce = analyzovat | False | true |  | Recurse do podadresářů při vyhodnocování argumentů specifikátoru souboru.
| AnalyzeVerbose | Boolean | InputType = Základní && funkce = analyzovat | False | false (nepravda) |  | Vyzařovat podrobný výstup. Výsledná komplexní zpráva je navržena tak, aby poskytla vhodné důkazy pro scénáře dodržování předpisů.
| AnalyzovatHashes | Boolean | InputType = Základní && funkce = analyzovat | False | false (nepravda) |  | Výstup sha-256 hash analytických cílů při vypouštění sestav SARIF.
| Analyzovatstatistiku | Boolean | InputType = Základní && funkce = analyzovat | False | false (nepravda) |  | Generovat časování a další statistiky pro relaci analýzy.
| Analyzovat prostředí | Boolean | InputType = Základní && funkce = analyzovat | False | false (nepravda) |  | Protokolovat podrobnosti prostředí počítače spustit do výstupního souboru. Upozornění: Tato možnost zaznamenává potenciálně citlivé informace (například všechny hodnoty proměnných prostředí) do libovolného emitovaného protokolu.
| ExportRulesOutputType | Picklist | InputType = Základní && funkce = exportRules | False | SARIF | SARIF, SonarQube | Typ souboru popisovače pravidel pro výstup. To bude zahrnuto do složky BinSkim protokoly publikované úlohou sestavení publikovat protokoly analýzy zabezpečení.
| DumpTarget | Filepath | InputType = Základní && funkce = výpis | True | $(Build.ArtifactStagingDirectory) |  | Jeden nebo více specifikátorů souboru, adresáře nebo vzoru filtru, který se překládá na jednu nebo více binárních souborů k analýze. (';' oddělený seznam)
| DumpRecurse | Boolean | InputType = Základní && funkce = výpis | False | true |  | Recurse do podadresářů při vyhodnocování argumentů specifikátoru souboru.
| DumpVerbose | Boolean | InputType = Základní && funkce = výpis | False | true |  | Vyzařovat podrobný výstup. Výsledná komplexní zpráva je navržena tak, aby poskytla vhodné důkazy pro scénáře dodržování předpisů.
| toolVersion | Picklist | Vždy | False | Latest (Nejnovější) | 1.5.0, Nejnovější, NejnovějšíPředběžné vydání | Verze nástroje ke spuštění.

## <a name="credential-scanner-task"></a>Úloha skeneru pověření

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputFormat | Picklist | Vždy | False | pre | csv, pre, tsv | Výstupní formát souboru výsledků skeneru přihlašovacích údajů.
| toolVersion | Picklist | Vždy | False | Latest (Nejnovější) | 1.27.7, Nejnovější, NejnovějšíPředvydání | Verze nástroje ke spuštění.
| složky scanFolder | Filepath | Vždy | False | $(Build.SourcesDirectory) |  | Složka v úložišti vyhledat přihlašovací údaje.
| searchersFileType | Picklist | Vždy | False | Výchozí | Vlastní, Výchozí, VýchozíAndCustom | Možnosti vyhledání souboru hledačů použitého pro skenování.
| soubor hledajících | Filepath | searchersFileType == Vlastní nebo hledačiFileType == DefaultAndCustom | False |  |  | Konfigurační soubor pro vyhledávání skenerů pověření, který má být proveden. Více hodnot lze zahrnout a použít poskytnutím seznamu cest k souborům hledačů skeneru pověření oddělených čárkami.
| suppressionsFile | Filepath | Vždy | False |  |  | Soubor potlačení skeneru pověření, který se má použít k potlačení problémů ve výstupním protokolu.
| potlačovatAChyba | Boolean | Vždy | False | false (nepravda) |  | Potlačené shody budou výstupem do výstupního souboru [-O]-match. [-f] spíše než výchozí potlačený výstupní soubor [-O]-potlačený. [-f]. (Výchozí hodnota je "False")
| verboseOutput | Boolean | Vždy | False | false (nepravda) |  | Výstupní podrobné informace.
| batchSize | řetězec | Vždy | False |  |  | Počet souběžných podprocesů používaných ke paralelnímu spuštění skenerů pověření. (Výchozí hodnota 20)<br/>Hodnota musí být v rozsahu 1-2147483647.
| regexMatchTimeoutInSeconds | řetězec | Vždy | False |  |  | Množství času v sekundách strávit pokus o hledač zápas před opuštěním šeku.<br/>Přidá ``-Co RegexMatchTimeoutInSeconds=<Value>`` do příkazového řádku.
| souborScanReadBufferSize | řetězec | Vždy | False |  |  | Velikost vyrovnávací paměti při čtení obsahu v bajtů. (Výchozí hodnota je 524288)<br/>Přidá ``-Co FileScanReadBufferSize=<Value>`` do příkazového řádku.
| maxFileScanReadBytes | řetězec | Vždy | False |  |  | Maximální počet bajtů ke čtení z daného souboru během analýzy obsahu. (Výchozí hodnota je 104857600)<br/>Přidá ``-Co MaxFileScanReadBytes=<Value>`` do příkazového řádku.

## <a name="microsoft-security-risk-detection-task"></a>Úloha zjišťování bezpečnostních rizik společnosti Microsoft

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                           |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Název_koncového bodu služby | connectedService:Obecný | Vždy | True |  |  | Název předkonfigurovaného koncového bodu služby (obecný typ) v projektu VSTS, který ukládá adresu URL instance MSRD (jste na palubě) a přístupový token rozhraní REST API (který byl vygenerován ze stránky nastavení účtu a umožňuje úplný přístup k vašemu účtu).
| AccountId | řetězec | Vždy | True |  |  | Identifikátor GUID identifikující účet. Lze jej načíst z adresy URL účtu.
| Adresa ADRESA URL binárních souborů | řetězec | Vždy | True |  |  | Středník oddělený seznam adres URL, které mají být použity fuzzing stroj ke stažení binární soubory. Zajišťuje, že adresy URL jsou veřejně dostupné.
| SeedsURL | řetězec | Vždy | False |  |  | Středník oddělený seznam adres URL, které mají být použity fuzzing stroj ke stažení semen. Ujistěte se, že adresy URL jsou veřejně dostupné.
| OSPlatformTyp | Picklist | Vždy | True | Windows | Linux, Windows | OS platforma typu stroje pro spuštění fuzzing úlohy.
| WindowsEdition | řetězec | OSPlatformType = Windows | True | Server 2008 R2 |  | OS vydání strojů pro spuštění fuzzing úlohy.
| LinuxEdition | řetězec | OSPlatformType = Linux | True | Redhat |  | OS vydání strojů pro spuštění fuzzing úlohy.
| Příkaz PreSubmissionCommand | řetězec | Vždy | False |  |  | Skript, který je třeba spustit v testovacím počítači k instalaci testovacího cílového programu a jeho závislostí před odesláním úlohy fuzzing.
| SeedDirectory | řetězec | Vždy | True |  |  | Cesta k adresáři na fuzzing stroj obsahující semena. Podrobnosti naleznete [v adresáři souborů seed.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/03-choose-seed-files#seed-file-directory)
| Rozšíření seedu | řetězec | Vždy | True |  |  | Přípona souboru semen.
| TestDriverExecutable | řetězec | Vždy | True |  |  | Cesta k cílovému spustitelnému souboru na fuzzingovém stroji. Podrobnosti najdete [v tématu Úplná cesta k EPE.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#full-path-to-the-epe)
| TestDriverExeType | Picklist | Vždy | True | x86 | amd64, x86 | Architektura cílového spustitelného souboru.
| Parametry testovacího ovladače | řetězec | Vždy | True | "%testfile%" |  | Argumenty příkazového řádku předány spustitelnému souboru cíle testu. Všimněte si, že symbol **%testfile%,,** včetně dvojitých uvozovek, bude automaticky nahrazen úplnou cestou k cílovému souboru, který má testovací ovladač analyzovat, a je vyžadován. Podrobnosti naleznete v [argumentech příkazového řádku.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/02-choose-exe#command-line-arguments)
| Zavře sám | Boolean | Vždy | True | true |  | Zkontrolujte, zda se testovací ovladač po dokončení ukončí (např. testovací ovladač analyzuje vstupní soubory a okamžitě ukončí); Zrušit zaškrtnutí, pokud je třeba testovací ovladač násilně zavřít (např. testovací ovladač je gui aplikace, jejíž hlavní okno zůstává otevřené po provedení analýzy vstupu). Podrobnosti najdete [v tématu Vlastní ukončení.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#self-termination)
| Maximální doba trvání v sekundách | řetězec | Vždy | True | 5 |  | Maximální doba trvání testovacího ovladače v sekundách. Zadejte odhad nejdelší přiměřeně očekávaný čas potřebný pro cílový program analyzovat vstupní soubor. Čím přesnější je tento odhad, tím efektivnější je fuzzing run. Podrobnosti naleznete [v tématu Maximální očekávaná doba provádění.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/05-scope-exe-lifetime#maximum-expected-execution-duration)
| Funkce CanRunRepeat | Boolean | Vždy | True | true |  | Zkontrolujte, zda testovací ovladač lze spustit opakovaně bez v závislosti na trvalé matné nebo sdílené globální stav. Podrobnosti najdete [v tématu Běží od nuly.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#runs-from-scratch)
| CanTestDriverReRenamed | Boolean | Vždy | True | false (nepravda) |  | Zkontrolujte, zda lze spustitelný soubor testovacího ovladače přejmenovat a může stále pracovat správně. Podrobnosti naleznete [v tématu Lze přejmenovat a paralelizovat.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#can-be-renamed-and-parallelized)
| SingleOsProcess | Boolean | Vždy | True | false (nepravda) |  | Zkontrolujte, zda testovací ovladač běží v rámci jednoho procesu operačního systému; Zrušit zaškrtnutí, pokud testovací ovladač spouští další procesy. Podrobnosti najdete [v tématu Jeden proces.](https://docs.microsoft.com/security-risk-detection/how-to/submit-windows-fuzzing-job/04-describe-exe-characteristics#single-process)

## <a name="roslyn-analyzers-task"></a>Úloha analyzátorů Roslyn

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                   |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| userProvideBuildInfo | Picklist | Vždy | True | auto | auto, msBuildInfo | Možnosti pro uživatele poskytnout verzi MSBuild, architekturu MSBuild a vytvořit příkazový řádek pro analýzu Roslyn. Pokud je vybrána možnost **Automaticky,** načte tato úloha informace o sestavení z předchozích úloh **MSBuild**, **VSBuild**a/nebo **.NET Core** (pro sestavení) ve stejném kanálu.
| msBuildVersion | Picklist | userProvideBuildInfo == msBuildInfo | True | 16.0 | 15.0, 16.0 | Verze MSBuild.
| msBuildArchitecture | Picklist | userProvideBuildInfo == msBuildInfo | True | x86 | DotNetCore, x64, x86 | Architektura MSBuild. Note: If the build commandline calls **dotnet.exe build**, choose the **Via .Net Core** option.
| msBuildCommandline | řetězec | userProvideBuildInfo == msBuildInfo | True |  |  | Kompletní sestavení příkazový řádek pro kompilaci řešení nebo projekty.<br/><br/>Poznámky: Příkazový řádek by měl začínat úplnou cestou k **souboru MSBuild.exe** nebo **dotnet.exe**.<br/>Příkaz bude spuštěn s $(Build.SourcesDirectory) jako pracovní adresář.
| název sady pravidel | Picklist | Vždy | False | Doporučené | Vlastní, Žádný, Doporučený, Povinný | Pojmenovaná sada pravidel, která se má použít.<br/><br/>Pokud `Ruleset Configured In Your Visual Studio Project File(s)` je vybrána, bude použita sada pravidel předkonfigurovaná v souborech projektu VS. Pokud `Custom` je vybrána možnost vlastní cesty sady pravidel, lze nastavit možnost cesty.
| rulesetVersion | Picklist | rulesetName == Povinné NEBO rulesetName == Doporučeno | False | Latest (Nejnovější) | 8.0, 8.1, 8.2, Nejnovější, Nejnovější Předběžné vydání | Verze zvolené sady pravidel SDL.
| vlastnísada pravidel | řetězec | rulesetName = Vlastní | False |  |  | Přístupná cesta k sadě pravidel, která se má použít. Relativní cesty budou normalizovány do kořenového adresáře zdrojového úložiště (`$(Build.SourcesDirectory)`).<br/><br/>Pokud sada pravidel `Rules` určuje `Actions` s `Error`nastavenou na , úloha sestavení se nezdaří. Chcete-li použít sadu pravidel, `Continue on error` která to dělá, `Control Options`zkontrolujte úkol sestavení .
| microsoftAnalyzersVersion | Picklist | Vždy | False | Latest (Nejnovější) | 2.9.3, 2.9.4, 2.9.6, Nejnovější, Nejnovější Předběžné vydání | Verze balíčku [Microsoft.CodeAnalysis.FxCopAnalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.FxCopAnalyzers) ke spuštění.
| suppressionFileForCompilerWarnings | Filepath | Vždy | False |  |  | Potlačování soubor potlačit C# a VB upozornění kompilátoru.<br/><br/>Soubor ve formátu prostého textu s každým ID upozornění uvádí jeden samostatný řádek.<br/>Pro upozornění kompilátoru zadejte pouze číselnou část identifikátoru upozornění. Například 1018 potlačí CS1018 a CA1501 potlačí CA1501.<br/><br/>Relativní cesta k souboru bude připojena ke kořenu zdrojového úložiště (`$(Build.SourcesDirectory)`).

## <a name="tslint-task"></a>Úkol TSLint

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Knihovna pravidel | Picklist | Vždy | True | tslint | vlastní, Microsoft, tslint | Všechny výsledky zahrnují pravidla dodávaná s vybranou verzí TSLint (**Pouze základní**).<br/><br/>**Pouze základní -** Pouze pravidla dodávaná s TSLint.<br/><br/>**Zahrnout pravidla společnosti Microsoft -** Soubory [Tslint-microsoft-contrib](https://github.com/Microsoft/tslint-microsoft-contrib) se stahují ke stažení a obsahují pravidla, která budou k dispozici pro použití v běhu TSLint. Výběrem této možnosti se `Type Checking` skryje zaškrtávací políčko, jak to vyžadují pravidla společnosti Microsoft a budou automaticky použity. To také unhides `Microsoft Contribution Version` pole, což umožňuje `tslint-microsoft-contrib` verzi od [npm,](https://www.npmjs.com/package/tslint-microsoft-contrib) které mají být vybrány.<br/><br/>**Zahrnout vlastní pravidla -** Unhides `Rules Directory` pole, které přijímá přístupnou cestu do adresáře pravidel TSLint, které mají být k dispozici pro použití v spuštění TSLint.<br/><br/>**Poznámka:** Výchozí hodnota se změnila na tslint, protože mnoho uživatelů došlo k problémům s konfigurací sady pravidel společnosti Microsoft. Konkrétní konfiguraci verze naleznete [v tématu tslint-microsoft-contrib na GitHubu](https://github.com/microsoft/tslint-microsoft-contrib).
| RulesDirectory | řetězec | RuleLibrary == vlastní | True |  |  | Přístupný adresář obsahující další pravidla TSLint, která mají být k dispozici pro použití v spuštění TSLint.
| Ruleset | Picklist | Knihovna pravidel != Microsoft | True | tsdoporučeno | vlastní, tslatest, tsrecommended | Definuje pravidla, která se mají spustit proti souborům typu TypeScript.<br/><br/>** [tslint:nejnovější](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Rozšiřuje `tslint:recommended` a je průběžně aktualizován, aby zahrnovala konfiguraci pro nejnovější pravidla v každé verzi TSLint. Pomocí této konfigurace může zavést nejnovější změny mezi dílčí verze jako nová pravidla jsou povoleny, které způsobují chyby lint ve vašem kódu. Když TSLint dosáhne hlavní verze `tslint:recommended` bump, bude aktualizován `tslint:latest`tak, aby byl totožný s .<br/><br/>** [tslint:doporučeno](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Stabilní, poněkud umíněný soubor pravidel, které TSLint podporuje pro obecné programování typu Script. Tato konfigurace `semver`následuje , takže *nebude* mít nejnovější změny v rámci dílčích nebo patch vydání.
| Sada pravidelMicrosoft | Picklist | Knihovna pravidel == Microsoft | True | mssdlrequired | vlastní, msrecommended, mssdlrecommended, mssdlrequired, tslatest, tsrecommended | Definuje pravidla, která se mají spustit proti souborům typu TypeScript.<br/><br/>** [microsoft:vyžadováno](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - sdl** Spusťte všechny dostupné kontroly poskytované tslint a tslint-microsoft-contrib pravidla, která splňují *požadované* zásady [životního cyklu vývoje zabezpečení (SDL).](https://www.microsoft.com/sdl/)<br/><br/>** [microsoft:doporučeno](https://github.com/Microsoft/tslint-microsoft-contrib/wiki/TSLint-and-the-Microsoft-Security-Development-Lifecycle)  - sdl** Spusťte všechny dostupné kontroly poskytované tslint a tslint-microsoft-contrib pravidla, která splňují *požadované a doporučené* zásady životního cyklu vývoje zabezpečení [(SDL).](https://www.microsoft.com/sdl/)<br/><br/>** [microsoft:doporučeno](https://github.com/Microsoft/tslint-microsoft-contrib/blob/master/recommended_ruleset.js)  - ** Všechny kontroly, které jsou doporučeny tvůrci tslint-microsoft-contrib pravidla. To zahrnuje bezpečnostní a nebezpečnostní kontroly.<br/><br/>** [tslint:nejnovější](https://github.com/palantir/tslint/blob/master/src/configs/latest.ts)  - ** Rozšiřuje `tslint:recommended` a je průběžně aktualizován, aby zahrnovala konfiguraci pro nejnovější pravidla v každé verzi TSLint. Pomocí této konfigurace může zavést nejnovější změny mezi dílčí verze jako nová pravidla jsou povoleny, které způsobují chyby lint ve vašem kódu. Když TSLint dosáhne hlavní verze `tslint:recommended` bump, bude aktualizován `tslint:latest`tak, aby byl totožný s .<br/><br/>** [tslint:doporučeno](https://github.com/palantir/tslint/blob/master/src/configs/recommended.ts)  - ** Stabilní, poněkud umíněný soubor pravidel, které TSLint podporuje pro obecné programování typu Script. Tato konfigurace `semver`následuje , takže *nebude* mít nejnovější změny v rámci dílčích nebo patch vydání.
| Soubor sady pravidel | řetězec | Sada pravidel == vlastní nebo rulesetMicrosoft == vlastní | True |  |  | [Konfigurační soubor](https://palantir.github.io/tslint/usage/cli/) určující, která pravidla mají být spuštěna.<br/><br/>Cesta ke konfiguraci bude přidána jako cesta pro [vlastní pravidla](https://palantir.github.io/tslint/develop/custom-rules/).
| Typ výběru souboru | Picklist | Vždy | True | souborGlob | fileGlob, projektFile | 
| Soubory | řetězec | FileSelectionType == souborGlob | True | **\*.ts |  | Soubor [glob,](https://www.npmjs.com/package/glob) který určuje, které soubory) ke zpracování. Cesty jsou relativní `Build.SourcesDirectory` k hodnotě.<br/><br/>Knihovna příspěvků společnosti Microsoft vyžaduje použití souboru projektu. Pokud s možností používáte knihovnu `File Glob Pattern` příspěvků společnosti Microsoft, bude za vás vygenerován soubor projektu.
| Ecmascriptversion | Picklist | FileSelectionType == souborGlob && RuleLibrary == Microsoft | True | ES3 | ES2015, ES2016, ES2017, ES3, ES5, ES6, ESNext | Cílová verze jazyka ECMAScript nakonfigurovaná s kompilátorem TypeScript. Při použití souboru projektu se jedná o pole compilerOptions.target souboru tsconfig.json.
| Project | řetězec | FileSelectionType == projectFile | True |  |  | Cesta k souboru [tsconfig.json,](http://www.typescriptlang.org/docs/handbook/tsconfig-json.html) který určuje soubory TypeScript, na kterých má být tslint spuštěn. Cesty jsou relativní `Build.SourcesDirectory` k hodnotě.
| TypKontrola | Boolean | Knihovna pravidel != Microsoft && FileSelectionType == projectFile | False | true |  | Povolí kontrolu typu při spuštění pravidel linting.
| Vyloučit soubory | řetězec | Vždy | False |  |  | [Glob,](https://www.npmjs.com/package/glob) který označuje soubory, které mají být vyloučeny z linting. Cesty jsou relativní `Build.SourcesDirectory` k hodnotě. Více hodnot lze zadat oddělené středníkem.
| Výstupní formát | Picklist | Vždy | True | json | checkstyle, codeFrame, filesList, json, msbuild, pmd, próza, stylový, podrobný, vso | [Formátování,](https://palantir.github.io/tslint/formatters/) které chcete použít ke generování výstupu. Všimněte si, že formát JSON je kompatibilní s post analýzy.
| NodeMemory | řetězec | Vždy | False |  |  | Explicitní množství paměti v MBs přidělit uzlu pro spuštění TSLint. Příklad: 8000<br/><br/>Mapuje `--max_old_space=<value>` na možnost rozhraní příkazového příkazového příkazu `v8 option`pro uzel, což je .
| Verze nástroje | Picklist | Knihovna pravidel != Microsoft | True | nejnovější | 4.0.0, 4.0.1, 4.0.2, 4.1.0, 4.1.1, 4.2.0, 4.3.0, 4.3.1, 4.4.0, 4.4.1, 4.4.2, 4.5.0, 4.5.1, 5.0.0, 5.1.0, 5.2.0, 5.3.0, 5.3.2, 5.4.0, 5.4.1, 5.4.2, 5.4.3, 5.5.0, poslední | [Verze](https://github.com/palantir/tslint/releases) TSLint stáhnout a spustit.
| TypeScriptVersion | Picklist | Vždy | True | nejnovější | 0.8.0, 0.8.1, 0.8.2, 0.8.3, 0.9.0, 0.9.1, 0.9.5, 0.9.7, 1.0.0, 1.0.1, 1.3.0, 1.4.1, 1.5.3, 1.6.2, 1.7.3, 1.7.5, 1.8.0, 1.8.10, 1.8.2, 1.8.5, 1.8.6, 1.8.7, 1.8.9, 1.9.0, 2.0.0, 2.0.10, 2.0.2, 2.0.3, 2.0.6, 2.0.7, 2.0.8, 2.0.9, 2.1.1, 2.1.4, 2.1.5, 2.1.6, 2.2.0, 2.2.1, vlastní, nejnovější | Verze [psacího stroje](https://www.npmjs.com/package/typescript) ke stažení a použití.<br/>**Poznámka:** To musí být stejná verze TypeScript, jak se používá ke kompilaci kódu.
| TypeScriptVersionCustom | řetězec | TypeScriptVersion == vlastní | True | nejnovější |  | Verze [psacího stroje](https://www.npmjs.com/package/typescript) ke stažení a použití.<br/>**Poznámka:** To musí být stejná verze TypeScript, jak se používá ke kompilaci kódu.
| MicrosoftContribVersion | Picklist | Knihovna pravidel == Microsoft |  | nejnovější | 4.0.0, 4.0.1, 5.0.0, 5.0.1, poslední | Verze [tslint-microsoft-contrib](https://www.npmjs.com/package/tslint-microsoft-contrib) (Pravidla SDL) ke stažení a použití.</br>**Poznámka:** Bude vybrána verze [tslint,](https://www.npmjs.com/package/tslint) která je kompatibilní s verzí zvolenou pro tslint-microsoft-contrib. Aktualizace tslint-microsoft-contrib budou bránou podle tohoto úkolu sestavení, dokud období testování může dojít.

## <a name="publish-security-analysis-logs-task"></a>Úloha Publikovat protokoly analýzy zabezpečení

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Název artefaktu | řetězec | Vždy | True | CodeAnalysisLogs |  | Název artefaktu, který chcete vytvořit.
| ArtifactType | Picklist | Vždy | True | Kontejner | Kontejner, Cesta souboru | Typ artefaktu, který chcete vytvořit.
| Targetpath | řetězec | ArtifactType = FilePath | False | \\my\share\$(Build.DefinitionName)<br>\$(Build.BuildNumber) |  | Sdílená složka, do které chcete soubory zkopírovat
| AllTools | Boolean | Vždy | True | true |  | Publikujte výsledky generované všemi úkoly sestavení nástrojů pro zabezpečení.
| Antimalware | Boolean | AllTools = false | True | true |  | Publikujte výsledky generované úlohami sestavení antimalwaru.
| BinSkim | Boolean | AllTools = false | True | true |  | Publikovat výsledky generované BinSkim sestavení úkolů.
| CredScan | Boolean | AllTools = false | True | true |  | Publikujte výsledky generované úlohami sestavení skeneru přihlašovacích údajů.
| MSRD | Boolean | AllTools = false | True | true |  | Publikujte informace o úloze a adresy URL úloh y pro úlohy MSRD, které byly zahájeny úlohou sestavení služby MSRD. Úlohy MSRD jsou již dlouho spuštěné a poskytují samostatné sestavy.
| RoslynAnalyzers | Boolean | AllTools = false | True | false (nepravda) |  | Publikujte výsledky generované analyzátory Roslyn, které vytvářejí úkoly.
| TSLint | Boolean | AllTools = false | True | true |  | Publikujte výsledky generované úlohami sestavení TSLint. Všimněte si, že pro sestavy jsou podporovány pouze protokoly TSLint ve formátu JSON. Pokud jste zvolili jiný formát, aktualizujte úlohu sestavení TSLint odpovídajícím způsobem.
| ToolLogsNotFoundAction | Picklist | Vždy | True | Standard | Chyba, Žádný, Standardní, Upozornění | Akce, která má být vpřípadě, že protokoly pro vybraný nástroj (nebo jakýkoli nástroj, pokud jsou kontrolovány všechny nástroje) nejsou nalezeny, což znamená, že nástroj nebyl spuštěn.<br/><br/>**Možnosti:**<br/>**Žádné:** Zpráva je zapsána do podrobného výstupního datového proudu přístupného pouze nastavením proměnné VSTS **system.debug** na **hodnotu true**.<br/>**Standard:** (Výchozí) Zapíše standardní výstupní zprávu, že pro nástroj nebyly nalezeny žádné protokoly.<br/>**Upozornění:** Zapíše žlutou varovnou zprávu, že pro nástroj nebyly nalezeny žádné protokoly, které se zobrazí na stránce souhrnu sestavení jako upozornění.<br/>**Chyba:** Zapíše červenou chybovou zprávu a vyvolá výjimku, čímž dojde k porušení sestavení. Tuto možnost použijte, abyste zajistili, že s jednotlivými volbami nástrojů zajistíte, které nástroje budou spuštěny.

## <a name="security-report-task"></a>Úloha zprávy zabezpečení

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| VstsConsole | Boolean | Vždy | False | true |  | Výsledky napište do konzoly kanálu.
| Soubor TSV | Boolean | Vždy | False | true |  | Vygenerujte soubor tsv (hodnoty oddělené tabulátory) s jedním řádkem na nalezený výsledek a kartami oddělujícími informace o výsledku.
| Soubor Html | Boolean | Vždy | False | true |  | Vygenerujte soubor sestavy html.
| AllTools | Boolean | Vždy | True | false (nepravda) |  | Sestavy výsledků generovaných všechny nástroje pro bezpečné vývoj sestavení úlohy.
| BinSkim | Boolean | AllTools = false | True | false (nepravda) |  | Sestavy výsledky generované BinSkim sestavení úkolů.
| BinSkimBreakOn | Picklist | AllTools = true OR BinSkim = true | True | Chyba | Chyba, Upozornění výše | Úroveň výsledků, které mají být vykazovány.
| CredScan | Boolean | AllTools = false | True | false (nepravda) |  | Sestavy výsledků generovaných úlohami sestavení skeneru přihlašovacích údajů.
| MSRD | Boolean | AllTools = false | True | false (nepravda) |  | Nahlásit informace o úloze a adresy URL úloh y pro úlohy MSRD zahájené úlohou sestavení služby MSRD. Úlohy MSRD jsou již dlouho spuštěné a poskytují samostatné sestavy.
| RoslynAnalyzers | Boolean | AllTools = false | True | false (nepravda) |  | Sestavy výsledků generovaných roslyn analyzer sestavení úkolů.
| RoslynAnalyzersBreakOn | Picklist | AllTools = true OR RoslynAnalyzers = true | True | Chyba | Chyba, Upozornění výše | Úroveň výsledků, které mají být vykazovány.
| TSLint | Boolean | AllTools = false | True | false (nepravda) |  | Sestavy výsledky generované úkoly sestavení TSLint. Všimněte si, že pro sestavy jsou podporovány pouze protokoly TSLint ve formátu JSON. Pokud jste zvolili jiný formát, aktualizujte úlohu sestavení TSLint odpovídajícím způsobem.
| TSLintBreakOn | Picklist | AllTools = true NEBO TSLint = true | True | Chyba | Chyba, Upozornění výše | Úroveň výsledků, které mají být vykazovány.
| ToolLogsNotFoundAction | Picklist | Vždy | True | Standard | Chyba, Žádný, Standardní, Upozornění | Akce, která má být vpřípadě, že protokoly pro vybraný nástroj (nebo jakýkoli nástroj, pokud jsou kontrolovány všechny nástroje) nejsou nalezeny, což znamená, že nástroj nebyl spuštěn.<br/><br/>**Možnosti:**<br/>**Žádné:** Zpráva je zapsána do podrobného výstupního datového proudu přístupného pouze nastavením proměnné VSTS **system.debug** na **hodnotu true**.<br/>**Standard:** (Výchozí) Zapíše standardní výstupní zprávu, že pro nástroj nebyly nalezeny žádné protokoly.<br/>**Upozornění:** Zapíše žlutou varovnou zprávu, že pro nástroj nebyly nalezeny žádné protokoly, které se zobrazí na stránce souhrnu sestavení jako upozornění.<br/>**Chyba:** Zapíše červenou chybovou zprávu a vyvolá výjimku, čímž dojde k porušení sestavení. Tuto možnost použijte, abyste zajistili, že s jednotlivými volbami nástrojů zajistíte, které nástroje budou spuštěny.
| Složka CustomLogsFolder | řetězec | Vždy | False |  |  | Základní složka, kde jsou umístěny protokoly analytického nástroje; jednotlivé soubory protokolu budou v podsložkách pojmenovaných po každém nástroji v rámci této cesty.

## <a name="post-analysis-task"></a>Úkol po analýze

| **InputType**      | **Typ**     | **Použitelné**            | **Požadováno** | **Výchozí hodnota**             | **Možnosti (pro výběrové seznamy)**                                   | **Popis**                                                                                                                                                                                                                                                                                                                            |
|------------|---------------|-----------------------|----------|---------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| AllTools | Boolean | Vždy | True | false (nepravda) |  | Přerušit sestavení, pokud jsou zjištěny nějaké problémy jakékoli úlohy sestavení analýzy bezpečnostního kódu společnosti Microsoft.
| BinSkim | Boolean | AllTools = false | True | false (nepravda) |  | Přerušit sestavení, pokud jsou nalezeny nějaké problémy BinSkim, podle možnosti Přerušit, kterou jste vybrali.
| BinSkimBreakOn | Picklist | AllTools = true OR BinSkim = true | True | Chyba | Chyba, Upozornění výše | Úroveň problémů rozbít sestavení.
| CredScan | Boolean | AllTools = false | True | false (nepravda) |  | Přerušit sestavení, pokud jsou nalezeny nějaké problémy skeneru přihlašovacích údajů.
| RoslynAnalyzers | Boolean | AllTools = false | True | false (nepravda) |  | Break sestavení, pokud jsou nalezeny nějaké problémy Roslyn Analyzátory.
| RoslynAnalyzersBreakOn | Picklist | AllTools = true OR RoslynAnalyzers = true | True | Chyba | Chyba, Upozornění výše | Úroveň problémů rozbít sestavení.
| TSLint | Boolean | AllTools = false | True | false (nepravda) |  | Break sestavení, pokud jsou nalezeny nějaké problémy TSLint. Všimněte si, že pro post analýzu jsou podporovány pouze protokoly TSLint ve formátu JSON. Pokud jste zvolili jiný formát, aktualizujte úlohu sestavení TSLint odpovídajícím způsobem.
| TSLintBreakOn | Picklist | AllTools = true NEBO TSLint = true | True | Chyba | Chyba, Upozornění výše | Úroveň problémů rozbít sestavení.
| VstsConsole | Boolean | Vždy | False | true |  | Výsledky napište do konzoly kanálu.
| ToolLogsNotFoundAction | Picklist | Vždy | True | Standard | Chyba, Žádný, Standardní, Upozornění | Akce, která má být vpřípadě, že protokoly pro vybraný nástroj (nebo jakýkoli nástroj, pokud jsou kontrolovány všechny nástroje) nejsou nalezeny, což znamená, že nástroj nebyl spuštěn.<br/><br/>**Možnosti:**<br/>**Žádné:** Zpráva je zapsána do podrobného výstupního datového proudu přístupného pouze nastavením proměnné VSTS **system.debug** na **hodnotu true**.<br/>**Standard:** (Výchozí) Zapíše standardní výstupní zprávu, že pro nástroj nebyly nalezeny žádné protokoly.<br/>**Upozornění:** Zapíše žlutou varovnou zprávu, že pro nástroj nebyly nalezeny žádné protokoly, které se zobrazí na stránce souhrnu sestavení jako upozornění.<br/>**Chyba:** Zapíše červenou chybovou zprávu a vyvolá výjimku, čímž dojde k porušení sestavení. Tuto možnost použijte, abyste zajistili, že s jednotlivými volbami nástrojů zajistíte, které nástroje budou spuštěny.

## <a name="next-steps"></a>Další kroky

Máte-li další dotazy týkající se rozšíření Analýza bezpečnostního kódu a nabízených nástrojů, podívejte se na [naši stránku nejčastějších dotazů](security-code-analysis-faq.md).