---
title: Vysvětlení vlastní koncové body služby Azure IoT Hub | Dokumentace Microsoftu
description: Příručka pro vývojáře – použití směrování dotazů pro směrování zpráv typu zařízení cloud do vlastní koncové body.
author: wesmc7777
manager: philmea
ms.author: wesmc
ms.service: iot-hub
services: iot-hub
ms.topic: conceptual
ms.date: 04/09/2018
ms.openlocfilehash: e5e92c40cef15e99431dc9652820c71e87935f67
ms.sourcegitcommit: 15e9613e9e32288e174241efdb365fa0b12ec2ac
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/28/2019
ms.locfileid: "57008708"
---
# <a name="use-message-routes-and-custom-endpoints-for-device-to-cloud-messages"></a>Použití vlastních koncových bodů a směrování zpráv pro zprávy typu zařízení cloud

[!INCLUDE [iot-hub-basic](../../includes/iot-hub-basic-partial.md)]

IoT Hub [směrování zpráv](iot-hub-devguide-routing-query-syntax.md) umožňuje uživatelům pro směrování zpráv typu zařízení cloud do koncových bodů služby přístupem. Směrování umožňuje dotazování funkce k filtrování dat před směrování do koncových bodů. Každý směrování dotazů, které nakonfigurujete má následující vlastnosti:

| Vlastnost      | Popis |
| ------------- | ----------- |
| **Název**      | Jedinečný název, který identifikuje dotazu. |
| **Zdroj**    | Původ datového streamu do reagovali na ni. Například telemetrii zařízení. |
| **Podmínka** | Výraz dotazu pro směrování dotaz, který se spustí aplikace vlastnosti zprávy, vlastnosti systému, text zprávy, značky dvojčat zařízení a vlastnosti dvojčete zařízení k určení, zda je shoda pro koncový bod. Další informace o vytváření dotazu, najdete v části Viz [zprávy syntaxi dotazů směrování](iot-hub-devguide-routing-query-syntax.md) |
| **Koncový bod**  | Název koncového bodu, kde služby IoT Hub odesílá zprávy, které odpovídají dotazu. Doporučujeme, abyste zvolili koncový bod ve stejné oblasti jako váš IoT hub. |

Jedna zpráva může odpovídat podmínku pro více směrování dotazů, ve kterých případu služby IoT Hub doručí do koncového bodu spojených s každou odpovídající dotaz. IoT Hub také automaticky deduplicates doručení zpráv, takže pokud zpráva odpovídá více dotazů, které mají stejný cíl, to je zapsat pouze jednou do tohoto cíle.

## <a name="endpoints-and-routing"></a>Koncové body a směrování

Služby IoT hub má výchozí [integrovaný koncový bod](iot-hub-devguide-messages-read-builtin.md). Můžete vytvořit vlastní koncové body pro směrování zpráv propojením dalších služeb v rámci vašeho předplatného k rozbočovači. IoT Hub aktuálně podporuje kontejnery služby Azure Storage, služby Event Hubs, fronty Service Bus a témat Service Bus jako vlastní koncové body.

Při použití směrování a vlastní koncové body zprávy pouze doručovaly do integrovaného koncového bodu pokud neodpovídají žádné dotazu. Doručení zprávy integrovaný koncový bod stejně jako vlastní koncový bod, přidejte trasu, která odesílá zprávy do vestavěné **události** koncového bodu.

> [!NOTE]
> * Zápis dat do služby Azure Storage kontejnery jako objekty BLOB podporuje pouze službu IoT Hub.
> * Fronty služby Service Bus a témat s **relace** nebo **duplicit** povoleny nejsou podporovány jako vlastní koncové body.

Další informace o vytváření vlastních koncových bodů ve službě IoT Hub najdete v tématu [koncové body IoT Hubu](iot-hub-devguide-endpoints.md).

Další informace o čtení z vlastní koncové body naleznete v tématu:

* Čtení z [kontejnery služby Azure Storage](../storage/blobs/storage-blobs-introduction.md).

* Čtení z [služby Event Hubs](../event-hubs/event-hubs-csharp-ephcs-getstarted.md).

* Čtení z [fronty služby Service Bus](../service-bus-messaging/service-bus-dotnet-get-started-with-queues.md).

* Čtení z [témat sběrnice Service Bus](../service-bus-messaging/service-bus-dotnet-how-to-use-topics-subscriptions.md).

## <a name="next-steps"></a>Další postup

* Další informace o koncových bodech služby IoT Hub najdete v tématu [koncové body IoT Hubu](iot-hub-devguide-endpoints.md).

* Další informace o dotazovací jazyk, která slouží k definování směrování dotazů najdete v tématu [syntaxi dotazů směrování zpráv](iot-hub-devguide-routing-query-syntax.md).

* [Zpráv typu zařízení cloud procesu IoT Hubu pomocí tras](tutorial-routing.md) kurzu se dozvíte, jak pomocí směrování dotazů a vlastní koncové body.